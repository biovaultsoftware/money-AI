<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0a0c10" />
  <title>Money AI ‚Äî Rush ‚Üí Rich</title>

  <!-- Manifest gets generated by main.js -->
  <link id="manifestLink" rel="manifest" href="" />

  <style>
    :root{
      --bg:#0a0c10;
      --panel:#0e1118;
      --panel2:#121826;
      --card:#0f1420;
      --text:#e7eefc;
      --text2:#a9b4c9;
      --border:rgba(255,255,255,.08);
      --shadow:0 12px 40px rgba(0,0,0,.45);
      --radius:18px;

      --glow-accent: rgba(245,158,11,.35);
      --accent:#f59e0b;
      --good:#22c55e;
      --warn:#f59e0b;
      --bad:#ef4444;

      --bubble-in:#121a2b;
      --bubble-out:#1a243b;

      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-top: env(safe-area-inset-top, 0px);
    }

    body[data-theme="coal"]{ --accent:#f59e0b; --glow-accent: rgba(245,158,11,.35); }
    body[data-theme="ember"]{ --accent:#f97316; --glow-accent: rgba(249,115,22,.35); }
    body[data-theme="bronze"]{ --accent:#a78bfa; --glow-accent: rgba(167,139,250,.35); }
    body[data-theme="gold"]{ --accent:#fbbf24; --glow-accent: rgba(251,191,36,.45); }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 700px at 15% 10%, rgba(245,158,11,.10), transparent 55%),
                  radial-gradient(1000px 600px at 80% 70%, rgba(59,130,246,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
      overflow:hidden;
    }

    .hidden{ display:none !important; }

    /* Lock Screen */
    .lock-screen{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
      background: radial-gradient(900px 600px at 20% 10%, rgba(245,158,11,.15), transparent 60%),
                  radial-gradient(900px 600px at 80% 80%, rgba(34,197,94,.12), transparent 60%),
                  #07090e;
      z-index:50;
    }
    .lock-card{
      width:min(520px, 100%);
      background: rgba(15,20,32,.85);
      border:1px solid var(--border);
      border-radius:24px;
      box-shadow: var(--shadow);
      padding:22px;
      backdrop-filter: blur(14px);
    }
    .lock-top{
      display:flex; align-items:center; gap:14px;
      margin-bottom:14px;
    }
    .lock-logo{
      width:54px; height:54px;
      border-radius:16px;
      display:grid; place-items:center;
      background: radial-gradient(circle at 30% 20%, #f97316, #0a0c10 70%);
      box-shadow: 0 0 60px var(--glow-accent);
      font-weight:900;
      font-size:22px;
    }
    .lock-title{ font-size:18px; font-weight:800; letter-spacing:.2px; }
    .lock-sub{ color:var(--text2); font-size:13px; margin-top:2px; }
    .lock-warning{
      margin-top:10px;
      padding:10px 12px;
      border:1px solid rgba(245,158,11,.25);
      background: rgba(245,158,11,.08);
      border-radius:12px;
      color: #ffd9a3;
      font-size:13px;
      display:none;
    }
    .lock-warning.visible{ display:block; }
    .lock-actions{ display:flex; gap:10px; margin-top:14px; flex-wrap:wrap; }
    .btn{
      appearance:none; border:none;
      padding:12px 14px;
      border-radius:14px;
      font-weight:700;
      cursor:pointer;
      transition: transform .12s ease, opacity .12s ease;
      user-select:none;
    }
    .btn:active{ transform: scale(.98); }
    .btn-primary{
      background: linear-gradient(135deg, var(--accent), rgba(255,255,255,.12));
      color:#081016;
    }
    .btn-ghost{
      background: rgba(255,255,255,.06);
      color: var(--text);
      border:1px solid var(--border);
    }

    /* App Shell */
    .app{
      position:fixed; inset:0;
      display:flex;
      padding-top: var(--safe-top);
    }
    .app.locked{
      filter: blur(0px);
    }

    /* Sidebar */
    .sidebar{
      width: 360px;
      max-width: 92vw;
      border-right: 1px solid var(--border);
      background: rgba(10,12,16,.55);
      backdrop-filter: blur(14px);
      display:flex;
      flex-direction:column;
      min-height:0;
    }
    .stories-strip{
      display:flex;
      gap:12px;
      padding:12px 12px 8px;
      overflow:auto;
      scrollbar-width:none;
    }
    .stories-strip::-webkit-scrollbar{ display:none; }
    .story-item{ display:flex; flex-direction:column; align-items:center; gap:6px; cursor:pointer; }
    .story-ring{
      width:56px; height:56px;
      border-radius:999px;
      border:2px solid rgba(245,158,11,.65);
      display:grid; place-items:center;
      box-shadow: 0 0 24px rgba(245,158,11,.12);
    }
    .story-ring.read{ border-color: rgba(255,255,255,.18); box-shadow:none; opacity:.85; }
    .story-avatar{
      width:46px; height:46px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      display:grid; place-items:center;
      font-size:20px;
    }
    .story-name{ font-size:11px; color:var(--text2); }

    .search-wrap{
      padding:10px 12px;
    }
    .search{
      width:100%;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:12px 12px;
      outline:none;
      font-weight:600;
    }

    .chat-list{
      padding:4px 8px 10px;
      overflow:auto;
      min-height:0;
    }

    .chat-item{
      display:flex;
      gap:12px;
      padding:10px 10px;
      border-radius:16px;
      cursor:pointer;
      border:1px solid transparent;
      transition: background .12s ease, border-color .12s ease;
      align-items:center;
    }
    .chat-item:hover{ background: rgba(255,255,255,.05); }
    .chat-item.active{
      background: rgba(245,158,11,.08);
      border-color: rgba(245,158,11,.22);
    }
    .chat-avatar{
      width:48px; height:48px;
      border-radius:16px;
      display:grid; place-items:center;
      font-size:20px;
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.12);
    }
    .chat-meta{ flex:1; min-width:0; }
    .chat-header{ display:flex; justify-content:space-between; gap:10px; }
    .chat-name{ font-weight:800; }
    .chat-time{ font-size:12px; color:var(--text2); }
    .chat-preview{
      margin-top:4px;
      color:var(--text2);
      font-size:13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .chat-badge{
      min-width:22px;
      height:22px;
      border-radius:999px;
      background: rgba(245,158,11,.18);
      border: 1px solid rgba(245,158,11,.30);
      display:grid; place-items:center;
      font-size:12px;
      font-weight:800;
      color:#ffd9a3;
    }
    .chat-item:not(.unread) .chat-badge{ opacity:.35; }

    /* Main Area */
    .main-area{
      flex:1;
      display:flex;
      min-width:0;
      min-height:0;
    }

    .empty-state{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      min-height:0;
    }
    .empty-card{
      width:min(560px, 100%);
      border-radius:24px;
      border:1px solid var(--border);
      background: rgba(15,20,32,.55);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      padding:18px;
    }
    .empty-card h1{ margin:0 0 6px 0; font-size:20px; }
    .empty-card p{ margin:0 0 12px 0; color:var(--text2); line-height:1.35; }

    /* Chat View */
    .chat-view{
      flex:1;
      display:flex;
      flex-direction:column;
      min-height:0; /* CRITICAL for thread scrolling */
      background: rgba(10,12,16,.28);
    }

    .chat-topbar{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-bottom: 1px solid var(--border);
      background: rgba(10,12,16,.55);
      backdrop-filter: blur(14px);
    }
    .icon-btn{
      width:42px; height:42px;
      border-radius:14px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      color: var(--text);
      display:grid; place-items:center;
      cursor:pointer;
    }
    .header-left{
      display:flex;
      align-items:center;
      gap:10px;
      flex:1;
      min-width:0;
    }
    .header-avatar{
      width:44px; height:44px;
      border-radius:16px;
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.12);
      font-size:18px;
      flex:0 0 auto;
    }
    .header-meta{ min-width:0; }
    .header-name{ font-weight:900; }
    .header-status{
      font-size:12px;
      color:var(--text2);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      max-width: 46vw;
    }
    .header-right{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .session-pill{
      font-size:12px;
      color: var(--text2);
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      padding:8px 10px;
      border-radius:999px;
      font-weight:800;
      white-space:nowrap;
    }
    .session-pill.warning{
      border-color: rgba(245,158,11,.35);
      background: rgba(245,158,11,.10);
      color:#ffd9a3;
    }

    /* Thread */
    .thread{
      flex:1;
      min-height:0;
      overflow:auto;
      padding:14px 12px 10px;
      scroll-behavior:smooth;
    }

    .message-row{
      display:flex;
      gap:10px;
      margin: 8px 0;
      align-items:flex-end;
    }
    .message-row.out{ justify-content:flex-end; }
    .msg-avatar{
      width:34px; height:34px;
      border-radius:14px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      flex:0 0 auto;
      font-size:16px;
    }
    .bubble{
      max-width:min(560px, 78%);
      background: var(--bubble-in);
      border:1px solid var(--border);
      border-radius: 18px;
      padding:10px 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,.22);
    }
    .message-row.out .bubble{
      background: var(--bubble-out);
      border-color: rgba(255,255,255,.10);
    }
    .bubble-tag{
      font-size:11px;
      color: var(--text2);
      display:flex;
      align-items:center;
      gap:8px;
      margin-bottom:6px;
      font-weight:800;
    }
    .bubble-tag .dot{
      width:7px; height:7px;
      border-radius:999px;
      background: var(--accent);
      box-shadow: 0 0 18px var(--glow-accent);
    }
    .bubble-content{
      font-size:14px;
      line-height:1.45;
      white-space:pre-wrap;
      word-break:break-word;
    }
    .bubble-meta{
      margin-top:8px;
      font-size:11px;
      color: rgba(169,180,201,.85);
      display:flex;
      justify-content:flex-end;
    }
    .bubble-actions{
      margin-top:10px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .chip-btn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:800;
      cursor:pointer;
    }
    .chip-btn:hover{ background: rgba(255,255,255,.08); }

    /* Typing Indicator */
    .typing-indicator{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      width: fit-content;
      margin: 10px 0 0 0;
    }
    .typing-dots{
      display:flex;
      gap:5px;
      align-items:center;
    }
    .typing-dots span{
      width:7px; height:7px;
      border-radius:999px;
      background: rgba(255,255,255,.55);
      animation: bounce 1.1s infinite;
      opacity:.75;
    }
    .typing-dots span:nth-child(2){ animation-delay:.12s; }
    .typing-dots span:nth-child(3){ animation-delay:.24s; }
    @keyframes bounce{
      0%, 80%, 100%{ transform: translateY(0); opacity:.55; }
      40%{ transform: translateY(-6px); opacity:1; }
    }

    /* Composer */
    .composer{
      padding:10px 12px calc(10px + var(--safe-bottom));
      border-top:1px solid var(--border);
      background: rgba(10,12,16,.72);
      backdrop-filter: blur(14px);
    }
    .quick-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .quick-btn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:10px 12px;
      border-radius:999px;
      font-weight:900;
      cursor:pointer;
      font-size:12px;
    }
    .quick-btn:hover{ background: rgba(255,255,255,.08); }

    .composer-row{
      display:flex;
      gap:10px;
      align-items:flex-end;
    }
    .msg-input{
      flex:1;
      min-height:44px;
      max-height:120px;
      resize:none;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:12px 12px;
      outline:none;
      font-weight:600;
      line-height:1.35;
    }
    .send-btn{
      width:52px; height:52px;
      border-radius:18px;
      border:none;
      background: linear-gradient(135deg, var(--accent), rgba(255,255,255,.12));
      color:#081016;
      font-weight:900;
      cursor:pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .send-btn:disabled{ opacity:.45; cursor:not-allowed; }

    /* Insights Panel (Desktop column) */
    .insights-panel{
      width: 360px;
      border-left:1px solid var(--border);
      background: rgba(10,12,16,.55);
      backdrop-filter: blur(14px);
      padding:12px;
      min-height:0;
      overflow:auto;
    }
    .panel-card{
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      border-radius: 20px;
      padding:12px;
      box-shadow: 0 12px 36px rgba(0,0,0,.24);
      margin-bottom:12px;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      font-size:12px;
      font-weight:900;
      color: var(--text2);
    }
    .pill.rich{
      border-color: rgba(34,197,94,.35);
      background: rgba(34,197,94,.10);
      color: #bff5d2;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      overflow:hidden;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(135deg, var(--accent), rgba(255,255,255,.15));
    }
    .bar.good > div{
      background: linear-gradient(135deg, rgba(34,197,94,1), rgba(255,255,255,.15));
    }
    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .muted{ color:var(--text2); font-size:13px; line-height:1.35; }
    .kpi{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .kpi .mini{
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      padding:10px;
    }
    .kpi .val{ font-size:18px; font-weight:900; }
    .kpi .lab{ font-size:12px; color:var(--text2); font-weight:800; }

    /* Mobile drawer for insights */
    .drawer-overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.45);
      opacity:0;
      pointer-events:none;
      transition: opacity .15s ease;
      z-index:40;
    }
    .drawer-overlay.visible{
      opacity:1;
      pointer-events:auto;
    }
    .drawer{
      position:fixed;
      left:0; right:0;
      bottom:0;
      height: 72vh;
      transform: translateY(100%);
      transition: transform .18s ease;
      z-index:41;
      background: rgba(10,12,16,.92);
      backdrop-filter: blur(14px);
      border-top:1px solid var(--border);
      border-radius: 24px 24px 0 0;
      overflow:auto;
      padding:12px 12px calc(12px + var(--safe-bottom));
    }
    .drawer.open{ transform: translateY(0%); }

    /* Reel Viewer */
    .reel-viewer{
      position:fixed; inset:0;
      background: rgba(0,0,0,.65);
      display:none;
      z-index:60;
      padding: 16px;
      align-items:center;
      justify-content:center;
    }
    .reel-viewer.open{ display:flex; }
    .reel-card{
      width:min(520px, 100%);
      border-radius:24px;
      border:1px solid var(--border);
      background: rgba(10,12,16,.92);
      backdrop-filter: blur(16px);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .reel-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 12px;
      border-bottom:1px solid var(--border);
    }
    .reel-left{
      display:flex; align-items:center; gap:10px;
    }
    .reel-avatar{
      width:44px; height:44px;
      border-radius:16px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      font-size:18px;
    }
    .reel-body{ padding:14px 14px 12px; }
    .reel-title{ font-size:18px; font-weight:900; margin:0 0 10px 0; }
    .reel-lines p{ margin:0 0 8px 0; color:var(--text2); line-height:1.4; font-weight:650; }
    .reel-cta{
      margin-top:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(245,158,11,.25);
      background: rgba(245,158,11,.08);
      font-weight:900;
      color:#ffd9a3;
    }
    .reel-reply{
      padding:12px 14px 14px;
      border-top:1px solid var(--border);
      display:flex;
      gap:10px;
      align-items:center;
    }
    .reel-input{
      flex:1;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);
      padding:12px 12px;
      outline:none;
      font-weight:700;
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      transform: translateX(-50%) translateY(10px);
      bottom: calc(18px + var(--safe-bottom));
      background: rgba(15,20,32,.92);
      border:1px solid var(--border);
      color: var(--text);
      border-radius: 999px;
      padding: 10px 14px;
      box-shadow: var(--shadow);
      opacity:0;
      pointer-events:none;
      transition: opacity .15s ease, transform .15s ease;
      z-index:80;
      font-weight:800;
      max-width: 92vw;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .toast.visible{
      opacity:1;
      transform: translateX(-50%) translateY(0px);
    }

    /* Responsive */
    @media (max-width: 980px){
      .sidebar{ width: 320px; }
      .insights-panel{ display:none; }
      .header-status{ max-width: 50vw; }
    }
    @media (max-width: 760px){
      .sidebar{
        width:100%;
        max-width:none;
        border-right:none;
      }
      .main-area{ display:none; } /* mobile uses chat view after openChat; your JS already routes */
      body[data-route="chat"] .sidebar{ display:none; }
      body[data-route="chat"] .main-area{ display:flex; }
      body[data-route="home"] .main-area{ display:none; } /* keep list as home */
    }
  </style>
</head>

<body data-route="home" data-theme="coal">
  <!-- Lock Screen -->
  <div id="lockScreen" class="lock-screen">
    <div class="lock-card">
      <div class="lock-top">
        <div id="lockLogo" class="lock-logo">M</div>
        <div>
          <div class="lock-title">Money AI Vault</div>
          <div class="lock-sub">Unlock to enter your private Rush ‚Üí Rich space</div>
        </div>
      </div>

      <div id="lockWarning" class="lock-warning"></div>

      <div class="lock-actions">
        <button id="btnUnlock" class="btn btn-primary">Unlock with Biometrics</button>
        <button id="btnUnlockDemo" class="btn btn-ghost hidden">Use Demo Mode</button>
      </div>
    </div>
  </div>

  <!-- App -->
  <div id="app" class="app locked">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div id="storiesStrip" class="stories-strip"></div>

      <div class="search-wrap">
        <input id="searchInput" class="search" placeholder="Search mentors..." />
      </div>

      <div id="chatList" class="chat-list"></div>
    </aside>

    <!-- Main Area -->
    <main id="mainArea" class="main-area">
      <!-- Empty State -->
      <section id="emptyState" class="empty-state">
        <div class="empty-card">
          <h1>Pick a mentor.</h1>
          <p>6 voices. One goal: move you from Rush to Rich ‚Äî with clarity, not noise.</p>
          <button id="btnStartChat" class="btn btn-primary">Open Today‚Äôs Reel</button>
        </div>
      </section>

      <!-- Chat View -->
      <section id="chatView" class="chat-view hidden">
        <!-- Header -->
        <header class="chat-topbar">
          <button id="btnBack" class="icon-btn" title="Back">‚Üê</button>

          <div class="header-left">
            <div id="headerAvatar" class="header-avatar">üí¨</div>
            <div class="header-meta">
              <div id="headerName" class="header-name">Mentor</div>
              <div id="headerStatus" class="header-status">Status</div>
            </div>
          </div>

          <div class="header-right">
            <div id="sessionLimit" class="session-pill">
              <span id="msgCount">0</span> / 12
            </div>
            <button id="btnCouncil" class="icon-btn" title="Council">üèõÔ∏è</button>
            <button id="btnInsights" class="icon-btn" title="Insights">üìä</button>
          </div>
        </header>

        <!-- Thread -->
        <div id="thread" class="thread"></div>

        <!-- Composer -->
        <div class="composer">
          <div id="quickActions" class="quick-actions">
            <button class="quick-btn" data-action="mission">üéØ Mission</button>
            <button class="quick-btn" data-action="audit">‚è±Ô∏è Time audit</button>
            <button class="quick-btn" data-action="map">üó∫Ô∏è Money Map</button>
          </div>

          <div class="composer-row">
            <textarea id="msgInput" class="msg-input" rows="1" placeholder="Type a message‚Ä¶"></textarea>
            <button id="btnSend" class="send-btn" disabled>‚û§</button>
          </div>
        </div>
      </section>

      <!-- Insights Panel (Desktop) -->
      <aside id="insightsPanel" class="insights-panel">
        <div class="panel-card">
          <div class="row">
            <div id="modePill" class="pill"><span>‚óè</span> <span id="modeLabel">Rush Mode</span></div>
            <div class="pill"><span>üî•</span> Rush <span id="rushValue">70</span></div>
          </div>

          <div style="margin-top:10px;">
            <div class="bar"><div id="rushBar"></div></div>
          </div>

          <div style="margin-top:10px;" class="row">
            <div class="pill"><span>üíé</span> Rich <span id="richValue">30</span></div>
          </div>
          <div style="margin-top:10px;">
            <div class="bar good"><div id="richBar"></div></div>
          </div>
        </div>

        <div class="panel-card">
          <div id="focusTag" class="pill"><span class="icon">üó∫Ô∏è</span><span>General Money Map</span></div>
          <h3 id="focusLabel" style="margin:10px 0 6px 0;">General Money Map</h3>
          <div id="focusDesc" class="muted">The clearer you describe the pain, the sharper your Money Map becomes.</div>
          <div style="margin-top:10px;">
            <div class="pill" style="width:100%; justify-content:space-between;">
              <span>Next step</span>
              <span style="opacity:.9;">‚Üí</span>
            </div>
            <div id="nextStep" class="muted" style="margin-top:8px;">Describe your main pain: debts, no job, or weak business.</div>
          </div>
        </div>

        <div class="panel-card">
          <div class="kpi">
            <div class="mini">
              <div id="statUserMsgs" class="val">0</div>
              <div class="lab">Your msgs</div>
            </div>
            <div class="mini">
              <div id="statAiMsgs" class="val">0</div>
              <div class="lab">AI msgs</div>
            </div>
            <div class="mini">
              <div id="statAge" class="val">‚Äî</div>
              <div class="lab">Session age</div>
            </div>
            <div class="mini">
              <div id="statActions" class="val">0</div>
              <div class="lab">Rich actions</div>
            </div>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <!-- Mobile Insights Drawer -->
  <div id="drawerOverlay" class="drawer-overlay"></div>
  <div id="drawer" class="drawer"></div>

  <!-- Reel Viewer -->
  <div id="reelViewer" class="reel-viewer">
    <div class="reel-card">
      <div class="reel-head">
        <div class="reel-left">
          <div id="reelAvatar" class="reel-avatar">üé•</div>
          <div>
            <div id="reelAuthor" style="font-weight:900;">Mentor</div>
            <div style="font-size:12px; color:var(--text2); font-weight:800;">Daily Reel</div>
          </div>
        </div>
        <button id="btnCloseReel" class="icon-btn" title="Close">‚úï</button>
      </div>

      <div class="reel-body">
        <h2 id="reelTitle" class="reel-title">Title</h2>
        <div id="reelLines" class="reel-lines"></div>
        <div id="reelCta" class="reel-cta">DM me "HOW"</div>
      </div>

      <div class="reel-reply">
        <input id="reelReplyInput" class="reel-input" placeholder='Reply with "HOW"...' />
        <button id="btnReelSend" class="btn btn-primary" style="border-radius:16px; padding:12px 14px;">Send</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast"><span id="toastText">‚Äî</span></div>

  <!-- IMPORTANT: load your updated main.js -->
  <!-- Replace "./main.js" with your actual path -->
  <script src="./main.js"></script>

  <!-- This HTML is aligned to the DOM IDs used in your updated main.js :contentReference[oaicite:0]{index=0} -->
</body>
</html>
